# üìã –ü–ª–∞–Ω: –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤ –¥–ª—è SUPFLOT

## üéØ –¶–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç–∑—ã–≤–æ–≤, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π, –∞ –ø–∞—Ä—Ç–Ω–µ—Ä—ã –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –æ—Ç–∑—ã–≤—ã –∫ —Å–≤–æ–∏–º –ª–æ–∫–∞—Ü–∏—è–º –∏ –¥–æ—Å–∫–∞–º.

---

## üìä –≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### 1.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü—ã reviews
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ –ë–î (`core/schema.py`)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
  - `id` - ID –æ—Ç–∑—ã–≤–∞
  - `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `booking_id` - ID –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - `rating` - –û—Ü–µ–Ω–∫–∞ (1-5)
  - `comment` - –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞
  - `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### 1.2 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- `board_id` - ID –¥–æ—Å–∫–∏ (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- `location_id` - ID –ª–æ–∫–∞—Ü–∏–∏ (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- `partner_id` - ID –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
- `is_visible` - –í–∏–¥–∏–º–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞ (–º–æ–¥–µ—Ä–∞—Ü–∏—è)

---

## üìù –≠—Ç–∞–ø 2: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
**–§–∞–π–ª:** `handlers/review_handlers.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –í—ã–±–æ—Ä –æ—Ü–µ–Ω–∫–∏ (1-5 –∑–≤–µ–∑–¥)
- –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –æ—Ç–∑—ã–≤–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é

**–°–æ—Å—Ç–æ—è–Ω–∏—è FSM:**
- `choosing_rating` - –í—ã–±–æ—Ä –æ—Ü–µ–Ω–∫–∏
- `entering_comment` - –í–≤–æ–¥ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**
- `review_booking` - –ù–∞—á–∞–ª–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞
- `rating_chosen` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
- `comment_entered` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞

### 2.2 –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤ –∫ –¥–æ—Å–∫–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤ –∫ –ª–æ–∫–∞—Ü–∏–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –æ—Ç–∑—ã–≤–æ–≤

---

## üíº –≠—Ç–∞–ø 3: –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 3.1 –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤
**–§–∞–π–ª:** `handlers/partner_handlers.py` (–¥–æ–±–∞–≤–∏—Ç—å)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤ –∫ –ª–æ–∫–∞—Ü–∏—è–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–æ—Å–∫–µ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ü–µ–Ω–∫–∞–º
- –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**
- `partner:reviews` - –°–ø–∏—Å–æ–∫ –æ—Ç–∑—ã–≤–æ–≤
- `partner:review_detail` - –î–µ—Ç–∞–ª–∏ –æ—Ç–∑—ã–≤–∞
- `partner:reviews_stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 3.2 –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ç–∑—ã–≤—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü–∞—Ä—Ç–Ω–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –æ—Ç–∑—ã–≤—ã
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –æ—Ç–≤–µ—Ç–µ

---

## üîê –≠—Ç–∞–ø 4: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### 4.1 –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤
**–§–∞–π–ª:** `handlers/admin_handlers.py` (–¥–æ–±–∞–≤–∏—Ç—å)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤
- –°–∫—Ä—ã—Ç–∏–µ/–ø–æ–∫–∞–∑ –æ—Ç–∑—ã–≤–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–∑—ã–≤–∞–º

---

## üé® –≠—Ç–∞–ø 5: UI/UX

### 5.1 –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
**–§–∞–π–ª:** `keyboards/user.py` (–¥–æ–±–∞–≤–∏—Ç—å)

**–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã:**
- –í—ã–±–æ—Ä –æ—Ü–µ–Ω–∫–∏ (1-5 –∑–≤–µ–∑–¥)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤

### 5.2 –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–≤–µ–∑–¥ (‚≠ê)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏

---

## üîÑ –≠—Ç–∞–ø 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 6.1 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—É –æ –Ω–æ–≤–æ–º –æ—Ç–∑—ã–≤–µ

### 6.2 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ä–µ–¥–Ω—é—é –æ—Ü–µ–Ω–∫—É —É –¥–æ—Å–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üì¶ –≠—Ç–∞–ø 7: –°–µ—Ä–≤–∏—Å—ã

### 7.1 ReviewService
**–§–∞–π–ª:** `services/review_service.py` (—Å–æ–∑–¥–∞—Ç—å)

**–ú–µ—Ç–æ–¥—ã:**
- `create_review()` - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
- `get_reviews_by_board()` - –û—Ç–∑—ã–≤—ã –∫ –¥–æ—Å–∫–µ
- `get_reviews_by_location()` - –û—Ç–∑—ã–≤—ã –∫ –ª–æ–∫–∞—Ü–∏–∏
- `get_average_rating()` - –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞
- `get_review_stats()` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üß™ –≠—Ç–∞–ø 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 8.1 –¢–µ—Å—Ç—ã
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ü–µ–Ω–∫–∏
- –ü–æ–¥—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤

---

## üìã –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (MVP):
1. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—É–∂–µ –µ—Å—Ç—å)
2. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
3. –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤ –∫ –¥–æ—Å–∫–µ
4. –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ):
5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–∑—ã–≤–∞–º
6. –û—Ç–≤–µ—Ç—ã –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –Ω–∞ –æ—Ç–∑—ã–≤—ã
7. –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ (–∞–¥–º–∏–Ω)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ):
8. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
9. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
10. –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç–∑—ã–≤–æ–≤

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:**
1. –°–æ–∑–¥–∞—Ç—å `services/review_service.py` —Å –±–∞–∑–æ–≤—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
2. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`handlers/review_handlers.py`)
3. –î–æ–±–∞–≤–∏—Ç—å UI —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞)
5. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
6. –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏

- –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–ª–∏ —Ä—É—á–Ω–∞—è)
- –ë–æ–Ω—É—Å—ã –∑–∞ –æ—Ç–∑—ã–≤—ã
- –†–µ–π—Ç–∏–Ω–≥ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–∑—ã–≤–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç–∑—ã–≤–æ–≤ –≤ –æ—Ç—á–µ—Ç—ã

---

**–ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üéâ

