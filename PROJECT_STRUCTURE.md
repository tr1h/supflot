# ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° SUPFLOT

## âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### ğŸ¯ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

- âœ… `run_bot.py` - Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ğ±Ğ¾Ñ‚Ğ°
- âœ… `config.py` - ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- âœ… `requirements.txt` - Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
- âœ… `.env` - Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ (ÑĞ¾Ğ·Ğ´Ğ°Ğ½)

### ğŸ“‚ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹

```
SupBot/
â”œâ”€â”€ core/                    # Ğ¯Ğ´Ñ€Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ âœ…
â”‚   â”œâ”€â”€ database.py         # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”
â”‚   â”œâ”€â”€ schema.py           # Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”
â”‚   â”œâ”€â”€ payment_service.py  # ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸
â”‚   â”œâ”€â”€ seed.py             # Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
â”‚   â””â”€â”€ crud/               # CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚       â”œâ”€â”€ admins.py
â”‚       â”œâ”€â”€ boards.py
â”‚       â”œâ”€â”€ bookings.py
â”‚       â”œâ”€â”€ partners.py
â”‚       â””â”€â”€ users.py
â”‚
â”œâ”€â”€ handlers/               # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ Ğ±Ğ¾Ñ‚Ğ° âœ…
â”‚   â”œâ”€â”€ user/              # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ start.py
â”‚   â”‚   â”œâ”€â”€ booking.py
â”‚   â”‚   â”œâ”€â”€ instant.py
â”‚   â”‚   â””â”€â”€ review.py
â”‚   â”œâ”€â”€ partner/           # ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€ÑĞºĞ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ partner_handlers.py
â”‚   â”‚   â”œâ”€â”€ partner_cabinet.py
â”‚   â”‚   â””â”€â”€ partner_fsm_handlers.py
â”‚   â”œâ”€â”€ admin/             # ĞĞ´Ğ¼Ğ¸Ğ½ÑĞºĞ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ bookings.py
â”‚   â”‚   â””â”€â”€ notifications.py
â”‚   â”œâ”€â”€ PARTNER_wallet/    # ĞšĞ¾ÑˆĞµĞ»ĞµĞº Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ wallet_handlers.py
â”‚   â”‚   â”œâ”€â”€ withdraw_handlers.py
â”‚   â”‚   â””â”€â”€ earnings.py
â”‚   â”œâ”€â”€ NEW_*              # ĞĞ¾Ğ²Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸
â”‚   â”‚   â”œâ”€â”€ NEW_user_bundle.py
â”‚   â”‚   â”œâ”€â”€ NEW_payments.py
â”‚   â”‚   â”œâ”€â”€ NEW_admin_bundle.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ misc_handlers.py   # Ğ Ğ°Ğ·Ğ½Ğ¾Ğµ
â”‚
â”œâ”€â”€ keyboards/             # ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹ âœ…
â”‚   â”œâ”€â”€ user.py
â”‚   â”œâ”€â”€ partner.py
â”‚   â”œâ”€â”€ admin.py
â”‚   â””â”€â”€ common.py
â”‚
â”œâ”€â”€ services/              # Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ âœ…
â”‚   â”œâ”€â”€ booking_service.py
â”‚   â”œâ”€â”€ payment_service.py
â”‚   â”œâ”€â”€ notification_service.py
â”‚   â””â”€â”€ weather_service.py
â”‚
â”œâ”€â”€ notifications/         # Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ âœ…
â”‚   â”œâ”€â”€ notification_service.py
â”‚   â”œâ”€â”€ notification_scheduler.py
â”‚   â”œâ”€â”€ notification_templates.py
â”‚   â””â”€â”€ notification_triggers.py
â”‚
â”œâ”€â”€ helpers/               # Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ âœ…
â”‚   â”œâ”€â”€ bookings.py
â”‚   â””â”€â”€ wallet.py
â”‚
â”œâ”€â”€ orders_site/           # Ğ’ĞµĞ±-ÑĞ°Ğ¹Ñ‚ âœ…
â”‚   â”œâ”€â”€ app.py            # Flask Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ templates/        # HTML ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹
â”‚   â””â”€â”€ static/           # CSS, JS, Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
â”‚
â””â”€â”€ tests/                # Ğ¢ĞµÑÑ‚Ñ‹ âœ…
    â””â”€â”€ test_database.py
```

## ğŸ” ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° handlers

### Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ handlers Ğ² run_bot.py:

1. âœ… **ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ:**
   - `register_user_cabinet` - Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ±Ğ¸Ğ½ĞµÑ‚
   - `register_user_handlers` - Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
   - `catalog_router` - ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³
   - `review_router` - Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹
   - `multi_router` - Ğ¼ÑƒĞ»ÑŒÑ‚Ğ¸Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

2. âœ… **ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€ÑĞºĞ¸Ğµ:**
   - `register_partner_fsm_handlers` - FSM Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ¾Ğ²
   - `register_partner_cabinet` - Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€ÑĞºĞ¸Ğ¹ ĞºĞ°Ğ±Ğ¸Ğ½ĞµÑ‚
   - `register_partner_handlers` - Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
   - `register_wallet_handlers` - ĞºĞ¾ÑˆĞµĞ»ĞµĞº
   - `register_withdraw_handlers` - Ğ²Ñ‹Ğ²Ğ¾Ğ´ ÑÑ€ĞµĞ´ÑÑ‚Ğ²
   - `register_earnings_handlers` - Ğ·Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğº

3. âœ… **ĞĞ´Ğ¼Ğ¸Ğ½ÑĞºĞ¸Ğµ:**
   - `register_all_admin_handlers` - Ğ²ÑĞµ Ğ°Ğ´Ğ¼Ğ¸Ğ½ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
   - `register_admin_withdraw` - Ğ°Ğ´Ğ¼Ğ¸Ğ½ Ğ²Ñ‹Ğ²Ğ¾Ğ´

4. âœ… **ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸:**
   - `register_payment_handlers` - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹
   - `register_finance_handlers` - Ñ„Ğ¸Ğ½Ğ°Ğ½ÑÑ‹

5. âœ… **ĞŸÑ€Ğ¾Ñ‡ĞµĞµ:**
   - `daily_router` - ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ°Ñ€ĞµĞ½Ğ´Ğ°
   - `daily_booking_p2p_router` - P2P Ğ°Ñ€ĞµĞ½Ğ´Ğ°
   - `misc_router` - Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ, ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹, Ğ¾Ñ„ĞµÑ€Ñ‚Ğ°
   - `choose_location_router` - Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ (Ğ¸Ğ· core/schema.py):

1. âœ… `partners` - Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ñ‹
2. âœ… `users` - Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
3. âœ… `admins` - Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹
4. âœ… `locations` - Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸
5. âœ… `boards` - Ğ´Ğ¾ÑĞºĞ¸
6. âœ… `bookings` - Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
7. âœ… `partner_wallet_ops` - Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾ÑˆĞµĞ»ÑŒĞºĞ°
8. âœ… `daily_boards` - ÑÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ°Ñ€ĞµĞ½Ğ´Ğ°
9. âœ… `employees` - ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸
10. âœ… `partner_withdraw_requests` - Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ½Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´

## âš™ï¸ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

### ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ (.env):

- âœ… `BOT_TOKEN` - Ñ‚Ğ¾ĞºĞµĞ½ Ğ±Ğ¾Ñ‚Ğ°
- âœ… `DB_NAME` - Ğ¸Ğ¼Ñ Ğ‘Ğ”
- âœ… `ADMIN_IDS` - ID Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²
- âœ… `PLATFORM_COMMISSION_PERCENT` - ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ
- âœ… `WORK_HOURS_START/END` - Ñ‡Ğ°ÑÑ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
- âš ï¸ `YK_SHOP_ID` - Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
- âš ï¸ `YK_SECRET` - Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

## ğŸš€ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ±Ğ¾Ñ‚Ğ°

- `/start` - ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ
- `/help` - ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ
- `/daily` - Ğ¡ÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ°Ñ€ĞµĞ½Ğ´Ğ°
- `/partner` - ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€ÑĞºĞ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ
- `/admin` - ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ
- `/contacts` - ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹
- `/offer` - ĞÑ„ĞµÑ€Ñ‚Ğ°

## âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ

- âœ… Ğ’ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ½Ğ° Ğ¼ĞµÑÑ‚Ğµ
- âœ… Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹
- âœ… ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ°
- âœ… Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
- âœ… Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¼ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ

## ğŸ¯ Ğ—Ğ°Ğ¿ÑƒÑĞº

```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
python run_bot.py

# Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞ°Ğ¹Ñ‚Ğ° (Ğ² Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¼ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ)
cd orders_site
python app.py
```

